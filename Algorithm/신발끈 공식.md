
# 다각형 넓이 - 신발끈 공식 (Shoelace formula)
> 신발끈 공식(Shoelace formula)은 좌표평면 상에서 다각형의 꼭짓점 좌표를 알 때 그 면적을 구하는 방법이다.
- 가우스의 면적 공식이나 사선 공식이라고도 불린다.
- 다각형의 각 꼭짓점의 좌푯값을 교차하여 곱하는 모습이 신발끈을 묶을 때와 같아 이러한 이름이 붙었다.

## 삼각형의 넓이를 구해보자.
세 좌표를 지나는 사각형을 그리고, 사각형 넓이에서 구하고자 하는 영역 밖의 넓이를 빼면 된다.  

![img.png](/img/신발끈%20공식/img.png)

## 다각형 넓이를 구하는 공식

> 사각형의 넓이 = ( x3 - x2 ) * ( y1 - y3 )  
> A = ( x1 - x2 ) * ( y1 - y2 ) / 2  
> B = ( x3 - x1 ) * ( y1 - y3 ) / 2  
> C = ( x3 - x2 ) * ( y2 - y3 ) / 2  
> D = (사각형의 넓이) - (A + B+ C)  

여기서 D를 간단히 구하기 위해 신발끈 형태의 공식을 사용해 넓이를 계산한다.


## 신발끈 공식
![img_1.png](/img/신발끈%20공식/img_1.png)

모든 좌표를 세로로 나열하고, x1은 y2와 곱해 더하고, y1은 x2와 곱해 빼는 방식으로 계산한다.
좌표를 모두 계산한 결과를 2로 놔눠 주면 구하고자 하는 삼각형의 넓이가 나온다.

신발끈 공식을 일반식으로 정리하면 다음과 같다.

> 다각형의 넓이 = | x1y2 + x2y3 + ... + xny1 - y1x2 - y2x3 - ... - ynx1 | / 2

## 마지막으로 신발끈 공식의 한계
1. 주어지는 좌표들은 다각형의 시계 혹은 반시계 방향으로 차례대로 주어져야 한다.
   - 좌표공간에서 주어진 좌표들을 정리해 증명된 공식이기 때문에, 다각형의 시계 또는 반시계 방향으로 좌표가 주어져야 한다.
   - 시계 방향은 음수, 반시계 방향은 양수가 나오기 때문에 절댓값을 씌워서 음수가 나오지 않게 한다.
2. 다각형은 좌표들끼리 접촉하거나, 교차하는 선분이 없어야 한다.
   - 한마디로 다각형은 ' SIMPLE POLYGON' 형태여야 한다.
   - 이 외에는 볼록다각형이든 오목다각형이든 관계없이 적용시킬 수 있다.

## 신발끈 공식으로 구할 수 없는 다각형들
![img_2.png](/img/신발끈%20공식/img_2.png)

## 예제 질문
### 신발끈 공식(Shoelace formula)이란?

<details>
   <summary> 예비 답안 보기 (👈 Click)</summary>
<br />

신발끈 공식은 좌표평면 상에서 다각형의 넓이를 구할 때 사용되는 공식입니다. 다각형의 각 꼭짓점 좌표를 이용해 면적을 계산하며, 교차하여 곱하는 계산 방식이 신발끈을 묶는 모양과 비슷해 이러한 이름이 붙었습니다.

공식은 주어진 좌표를 차례대로 나열하고, x와 y 좌표의 교차 곱셈의 합에서 절댓값을 취한 뒤 2로 나눠 넓이를 구합니다.

</details>

### 신발끈 공식의 한계는 무엇인가요?

<details>
   <summary> 예비 답안 보기 (👈 Click)</summary>
<br />

신발끈 공식은 다각형의 좌표들이 시계 방향 또는 반시계 방향으로 나열되어 있어야 합니다. 시계 방향일 경우 음수 값이 나오기 때문에, 절댓값을 적용해 넓이를 계산합니다. 또한, 공식은 'Simple Polygon'에만 적용되며, 선분들이 교차하는 복잡한 다각형에는 사용할 수 없습니다.

단, 볼록다각형과 오목다각형에는 문제없이 적용할 수 있습니다.

</details>


## 레퍼런스
수민 포스팅 : https://soooom.tistory.com/449